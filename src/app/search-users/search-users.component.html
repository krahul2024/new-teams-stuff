<div class="p-2">
    <div class="rounded-lg p-4">
        <div class="flex gap-2 items-center">
            <input type="text" [(ngModel)]="searchValue" (input)="filterUsers()"
                class="border-b py-1 px-4 text-sm focus:outline-none focus:border-indigo-600 flex-grow"
                placeholder="search users by email/name/address..." />
            <button
                class="text-xs text-white border py-1 px-3 rounded-md bg-cyan-600 hover:bg-indigo-600">Search</button>
        </div>
    </div>

    <div class="p-4 max-h-[400px] overflow-y-auto opacity-75 z-50 text-sm">
        <div *ngFor="let user of filteredUsers">
            <div (click)="selectUser(user)"
                class="flex gap-2 p-1 border-b border-gray-200 hover:bg-gray-100 rounded-lg shadow-xs cursor-pointer">
                <div class="flex gap-2 p-1 items-center justify-center">
                    <span>{{user.name}}</span>
                    <span>{{user.email}}</span>
                </div>
            </div>
        </div>
    </div>


    <div *ngIf="selectedUsers.length > 0" class="p-2 gap-4">
        <p class="text-lg px-2">Selected Users</p>
        <ul class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2">
            <div (mouseenter)="onHover(i)" (mouseleave)="onLeave()" 
                class="border py-2 px-3 my-2 rounded-lg shadow-xs text-xs text-wrap flex flex-col"
                *ngFor="let selectedUser of selectedUsers; let i = index;">
                <span>{{selectedUser.name}}</span>
                <span>{{selectedUser.email}}</span>
                <span>{{selectedUser.address}}</span>

                <div *ngIf="hoverOn === i" class="flex gap-2 justify-start">
                    <button class="p-1 text-indigo-600">View User</button>
                    <button (click)="removeUser(selectedUser)" class="p-1 text-red-600">Remove</button>
                </div>
            </div>
        </ul>
    </div>